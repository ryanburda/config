name: rr
root: ~/Developer/sqsp/revrec-airflow

windows:
  - main:
      layout: even-vertical
      panes:
        - vim
        - terminal:
          - tmux resize-pane -t 1 -y 10
          - clear
  - scratch:
      root: ~/Developer/scratch/src/revrec-airflow
      layout: even-vertical
      panes:
        - vim
        - #empty
  - cmds:
      layout: even-vertical
      panes:
        - local_postgres:
          - docker container start revrec_db || docker container run -d --name revrec_db -p 25432:5432 -v postgres-rr-volume:/var/lib/postgres/data -e POSTGRES_PASSWORD=postgres postgres:10.3
          - sleep 2
          - clear
          - psql -h localhost -p 25432 -d revrec -U postgres
